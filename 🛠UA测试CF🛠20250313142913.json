[
  {
    "bookSourceComment": "//创:九梦\n//用于测试ua过盾率\n//如何使用？(如果需要，可以将请求头中的sz变量设为想要测试的ua，)将出现CF盾的页面URL作为正文页校验\n//成功的ua将出现在书源变量，请及时复制并保存，否则将会被刷新",
    "bookSourceName": "🛠UA测试CF🛠",
    "bookSourceType": 0,
    "bookSourceUrl": "九梦吖",
    "customOrder": -99878,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "header": "<js>\nvar sz=\"Mozilla/5.0 (Linux; Android 15; V2304A Build/AP3A.240905.015.A2; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/126.0.6478.71 Mobile Safari/537.36\";\n//这里写想要测试的ua，留空将启用随机us;\n\nif (!sz.match(/^Mozilla/)){\nua=generateUserAgent('小米','高兼容')\n//随机生成ua\n//参数1:(留空全随机)，电脑，安卓，苹果，鸿蒙，oppo，vivo，小米，华为，三星，一加，魅族，努比亚，realme\n//参数2:(留空全随机)，高兼容，高版本\n}else{\nua=sz\n}\njava.log(ua)\njava.put('ua',ua)\n\n//下面除ua变量之外全部可自定义\nJSON.stringify({\n  'User-Agent': ua,\n  'sec-ch-ua-platform': \"\\\"Android\\\"\",\n  'origin': \"https://www.pilishuwu.com/\",\n  'x-requested-with': \"cn.mujiankeji.mbrowser\",\n  'Referer': \"https://www.pilishuwu.com/\",\n  'Accept-Language': \"zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7\"\n})\n</js>",
    "jsLib": "function generateUserAgent(deviceOption = '', versionOption = '') {\n    // 用于随机生成UA\n    // 输入的两个参数大小不敏感，\n\n    // 定义常见的浏览器、操作系统和设备类型\n    var browsers = [\n        { name: \"Chrome\", versions: [\"120.0.6099.\", \"119.0.6045.\", \"118.0.5993.\", \"117.0.5938.\"], highCompat: \"80.0.3987.\" },\n        { name: \"Firefox\", versions: [\"120.0.\", \"119.0.\", \"118.0.\", \"117.0.\"], highCompat: \"78.0.\" },\n        { name: \"Safari\", versions: [\"17.0.\", \"16.6.\", \"16.5.\", \"16.4.\"], highCompat: \"13.1.\" },\n        { name: \"Edge\", versions: [\"120.0.2210.\", \"119.0.2151.\", \"118.0.2088.\", \"117.0.2045.\"], highCompat: \"87.0.664.\" }\n    ];\n    var osPC = [\n        \"Windows NT 10.0; Win64; x64\",\n        \"Macintosh; Intel Mac OS X 13_5\",\n        \"Linux x86_64\"\n    ];\n    var osAndroid = [\n        \"Android 14; Mobile\",\n        \"Android 13; Mobile\",\n        \"Android 12; Mobile\",\n        \"Android 11; Mobile\"\n    ];\n    var osIOS = [\n        \"iPhone; CPU iPhone OS 17_0 like Mac OS X\",\n        \"iPhone; CPU iPhone OS 16_6 like Mac OS X\",\n        \"iPhone; CPU iPhone OS 16_5 like Mac OS X\",\n        \"iPhone; CPU iPhone OS 16_4 like Mac OS X\"\n    ];\n    var osHarmonyOS = [\n        \"HarmonyOS 4.0; Mobile\",\n        \"HarmonyOS 3.0; Mobile\",\n        \"HarmonyOS 2.0; Mobile\"\n    ];\n    var osHyperOS = [\n        \"HyperOS 1.0; Mobile\"\n    ];\n    var random = function(arr) {\n        return arr[Math.floor(Math.random() * arr.length)];\n    };\n\n    // 根据第一个参数生成操作系统和设备类型\n    var os, device;\n    switch ((deviceOption || '').toLowerCase()) {\n        case '电脑':\n            os = random(osPC); // 随机选择 PC 操作系统\n            device = ''; // PC 版不需要设备标识\n            break;\n        case '安卓': // 安卓版\n            os = random(osAndroid); // 随机选择安卓操作系统\n            device = 'Mobile'; // 添加手机设备标识\n            break;\n        case '苹果': // 苹果版\n            os = random(osIOS); // 随机选择 iOS 操作系统\n            device = 'Mobile'; // 添加手机设备标识\n            break;\n        case '鸿蒙': // 鸿蒙版\n            os = random(osHarmonyOS); // 随机选择鸿蒙操作系统\n            device = 'Mobile'; // 添加手机设备标识\n            break;\n        case 'oppo': // OPPO 手机\n            os = \"Android \" + random([\"15\", \"14\", \"13\", \"12\", \"11\"]) + \"; Mobile\"; // 随机选择安卓版本\n            device = 'OPPO; ' + random([\"CPH2451\", \"CPH2415\", \"CPH2605\", \"CPH2305\"]) + ' Build/' + random([\"TP1A.220624.014\", \"TP1A.230720.002\", \"TP1A.231005.001\", \"TP1A.210720.011\"]); // 随机选择设备型号和构建版本\n            break;\n        case 'vivo': // Vivo 手机\n            os = \"Android \" + random([\"15\", \"14\", \"13\", \"12\", \"11\"]) + \"; Mobile\"; // 随机选择安卓版本\n            device = 'Vivo; ' + random([\"V2243A\", \"V2309A\", \"V2339A\", \"V2166A\"]) + ' Build/' + random([\"SKQ1.220303.001\", \"SKQ1.230723.002\", \"SKQ1.231101.001\", \"SKQ1.210720.012\"]); // 随机选择设备型号和构建版本\n            break;\n        case '小米': // 小米手机\n            var system = random([\"MIUI\", \"HyperOS\"]); // 随机选择 MIUI 或 HyperOS\n            if (system === \"MIUI\") {\n                os = \"Android \" + random([\"15\", \"14\", \"13\", \"12\", \"11\"]) + \"; Mobile\"; // MIUI 基于安卓\n                device = 'Xiaomi; ' + random([\"2210132C\", \"23127PN0CC\", \"2304FPN6DC\", \"M2103K19C\"]) + ' Build/' + random([\"TKQ1.221114.001\", \"TKQ1.230901.001\", \"TKQ1.231101.001\", \"TKQ1.210720.011\"]); // MIUI 设备标识\n            } else {\n                os = random(osHyperOS); // HyperOS\n                device = 'Xiaomi; ' + random([\"23113RKC6C\", \"23117RK66C\", \"23127PN0CG\", \"Xiaomi 14\"]) + ' Build/' + random([\"HyperOS 1.0.001\", \"HyperOS 1.0.002\", \"HyperOS 1.0.003\", \"HyperOS 1.0.004\"]); // HyperOS 设备标识\n            }\n            break;\n        case '华为': // 华为手机\n            os = random(osHarmonyOS); // 华为手机可能使用鸿蒙系统\n            device = 'Huawei; ' + random([\"NOH-AN00\", \"LIO-AN00\", \"ANA-AN00\", \"DCO-AL00\"]) + ' Build/' + random([\"HarmonyOS 4.0.001\", \"HarmonyOS 3.0.002\", \"HarmonyOS 2.0.003\", \"HarmonyOS 1.0.004\"]); // 随机选择设备型号和构建版本\n            break;\n        case '三星': // 三星手机\n            os = \"Android \" + random([\"15\", \"14\", \"13\", \"12\", \"11\"]) + \"; Mobile\"; // 随机选择安卓版本\n            device = 'Samsung; ' + random([\"SM-S9180\", \"SM-S9110\", \"SM-S9060\", \"SM-G9980\"]) + ' Build/' + random([\"SP1A.210812.016\", \"SP1A.230720.002\", \"SP1A.231101.001\", \"SP1A.210720.013\"]); // 随机选择设备型号和构建版本\n            break;\n        case '一加': // 一加手机\n            os = \"Android \" + random([\"15\", \"14\", \"13\", \"12\", \"11\"]) + \"; Mobile\"; // 随机选择安卓版本\n            device = 'OnePlus; ' + random([\"CPH2449\", \"CPH2451\", \"CPH2605\", \"IN2020\"]) + ' Build/' + random([\"OP1A.220624.014\", \"OP1A.230720.002\", \"OP1A.231005.001\", \"OP1A.210720.011\"]); // 随机选择设备型号和构建版本\n            break;\n        case '魅族': // 魅族手机\n            os = \"Android \" + random([\"15\", \"14\", \"13\", \"12\", \"11\"]) + \"; Mobile\"; // 随机选择安卓版本\n            device = 'Meizu; ' + random([\"MZ2110\", \"MZ2150\", \"MZ2170\", \"M1920\"]) + ' Build/' + random([\"MZ1A.220624.014\", \"MZ1A.230720.002\", \"MZ1A.231005.001\", \"MZ1A.210720.011\"]); // 随机选择设备型号和构建版本\n            break;\n        case '努比亚': // 努比亚手机\n            os = \"Android \" + random([\"15\", \"14\", \"13\", \"12\", \"11\"]) + \"; Mobile\"; // 随机选择安卓版本\n            device = 'Nubia; ' + random([\"NX712J\", \"NX713J\", \"NX715J\", \"NX651J\"]) + ' Build/' + random([\"NX1A.220624.014\", \"NX1A.230720.002\", \"NX1A.231005.001\", \"NX1A.210720.011\"]); // 随机选择设备型号和构建版本\n            break;\n        case 'realme': // Realme 手机\n            os = \"Android \" + random([\"15\", \"14\", \"13\", \"12\", \"11\"]) + \"; Mobile\"; // 随机选择安卓版本\n            device = 'Realme; ' + random([\"RMX3708\", \"RMX3710\", \"RMX3720\", \"RMX2200\"]) + ' Build/' + random([\"RM1A.220624.014\", \"RM1A.230720.002\", \"RM1A.231005.001\", \"RM1A.210720.011\"]); // 随机选择设备型号和构建版本\n            break;\n        default: // 全随机\n            var allOS = osPC.concat(osAndroid, osIOS, osHarmonyOS, osHyperOS); // 所有操作系统\n            os = random(allOS); // 随机选择操作系统\n            device = os.indexOf('Android') !== -1 || os.indexOf('iPhone') !== -1 || os.indexOf('HarmonyOS') !== -1 || os.indexOf('HyperOS') !== -1 ? 'Mobile' : ''; // 如果是手机/平板操作系统，添加设备标识\n    }\n\n    // 根据第二个参数生成版本号\n    var browser = random(browsers);\n    var version;\n    switch ((versionOption || '').toLowerCase()) {\n        case '高版本':\n            version = random(browser.versions) + Math.floor(Math.random() * 100); // 高版本\n            break;\n        case '高兼容':\n            version = browser.highCompat + Math.floor(Math.random() * 100); // 高兼容\n            break;\n        default: // 全随机\n            version = (Math.floor(Math.random() * 100) + 1) + \".0.\" + Math.floor(Math.random() * 1000) + \".\" + Math.floor(Math.random() * 100); // 随机版本号\n    }\n\n    // 组合成完整的 UA 字符串\n    return \"Mozilla/5.0 (\" + os + (device ? \"; \" + device : \"\") + \") AppleWebKit/537.36 (KHTML, like Gecko) \" + browser.name + \"/\" + version + \" Safari/537.36\";\n}\n ",
    "lastUpdateTime": 1741847183397,
    "respondTime": 180000,
    "ruleBookInfo": {},
    "ruleContent": {
      "content": "@js:\nif (result.match(/Just a moment/)) { java.startBrowserAwait(baseUrl, \"验证\");\nresult=java.ajax(baseUrl);\n}\nresult;\nif (result){\nua=java.get('ua');\nsource.setVariable(ua);\njava.longToast(\"🤓测试成功,请及时将源变量中的ua进行复制🤓\")\nvar text=\"&nbsp;九梦偷偷瞄了眼👀，对你测试的网站感到很好奇，是🔞的吗(*¯︶¯*)\"\n}\ntext;"
    },
    "ruleExplore": {},
    "ruleSearch": {
      "bookList": "",
      "bookUrl": "",
      "checkKeyWord": "--https://www.pilishuwu.com/",
      "coverUrl": "",
      "name": ""
    },
    "ruleToc": {},
    "searchUrl": "",
    "weight": 0
  }
]